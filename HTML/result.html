<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="icon" type="image/png" href="/static/image/groupie-tracker.png" />
    <title>Groupie-Tracker</title>
</head>
<body>
    <nav class="haut">
        <section class="logo">
            <a href="/index">
              <img src="../static/image/groupie-tracker.png" width ="200" height="200">
            </a>
        </section>
        <section class="global">
            <section class="onglet">
              <a href="presentation">Pr√©sentation</a>
              <a href="index">Artistes</a>
            </section>
          <section class="recherche">
            <form action = "/result" method="get">
                <section class="barre">
                    <input type="text" name="research" placeholder="Rechercher...">
                </section>
            </form>
            <button class = "btn" type = "submit">Rechercher</button>
          </section>
        </section>
    </nav>
    <button onclick="goToUrl('A-Z')" >A-Z</button>
    <button onclick="goToUrl('Z-A')" >Z-A</button>
    <button onclick="goToUrl('')" >Reset</button>
    <script>
        function goToUrl(sort) {
            var urlParams = new URLSearchParams(window.location.search);
            var research = urlParams.get('research');
            if (research == null) {
                research = '';
            }
            window.location.href = '/result?research=' + encodeURIComponent(research) + '&sort=' + sort;
        }
    </script>
    
    <section class="cover-artiste-grid">
        {{range .}}
        <article class="cover-item">
            <input type="checkbox" id="popup-{{.Name}}" class="popup-trigger">
            <label for="popup-{{.Name}}">
                <img src="{{.Image}}" alt="{{.Name}}" class="img-artiste">
            </label>
            <div class="popup">
                <label for="popup-{{.Name}}" class="close-button">x</label>
                <div class="popup-content">
                    <h2>{{.Name}}</h2>
                    <div class="Members">
                        {{range .Members}}
                        <p>{{.}}</p>
                        {{end}}
                    </div>
                    <form action = "/event" method="get">
                      <input type="hidden" name="id" value="{{.ID}}">
                      <button type = "submit" >Events</button>
                    </form>
                    </div>
              </div>
            <div class="info">
                <h2>{{.Name}}</h2>
            </div>
        </article>
        
        {{end}}
    </section>
</body>
</html>